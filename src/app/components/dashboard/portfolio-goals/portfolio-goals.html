<section class="portfolio-goals">
  <h2>Portfolio goals</h2>

  <div class="goal-bar" *ngFor="let goal of goals; let i = index">
    <div class="label">{{ goal.name }}</div>

    <div class="bar-container">
      <div class="tg" [style.left.%]="goal.target">
        <div class="target">TG: {{ goal.target }}% </div>
        <div class="triangle"></div>
      </div>
      <div class="bar">
        <div class="segment green" [style.width.%]="getRangeWidth(goal, 0)"></div>
        <div class="segment yellow" [style.width.%]="getRangeWidth(goal, 1)"></div>
        <div class="segment red" [style.width.%]="getRangeWidth(goal, 2)"></div>
      </div>
      <div class="marker" [style.left.%]="goal.value">
        <div class="value">{{ goal.value }}%</div>
        <div class="triangle" [ngClass]="getStatusClass(goal)"></div>
        <div class="status" [ngClass]="getStatusClass(goal)">
          {{ getStatusText(goal) }}
        </div>
      </div>
    </div>
  </div>

  <div class="goal target-bar" *ngFor="let target of targets">
    <div class="label">{{ target.label }}</div>
    <div class="bar-container">
      <div class="bar">
        <div
          class="fill blue"
          [style.width.%]="getPercentage(target)">
          <div class="value">${{ target.value }}{{ target.unit }}</div>
          <div class="percentage">{{ getPercentage(target) }}%</div>
        </div>
      </div>
      <div class="target">${{ target.target }}{{ target.unit }}</div>
    </div>
  </div>
</section>
